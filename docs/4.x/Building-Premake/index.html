<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/premake-core/blog/rss.xml" title="Premake Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/premake-core/blog/atom.xml" title="Premake Blog Atom Feed"><title data-react-helmet="true">Building Premake | Premake</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="4.x"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-4.x"><meta data-react-helmet="true" property="og:title" content="Building Premake | Premake"><meta data-react-helmet="true" name="description" content="If you downloaded a prebuilt binary package you can skip this page, which discusses how to build the Premake source code. Jump ahead to Quick Start to begin learning how to use and develop with Premake."><meta data-react-helmet="true" property="og:description" content="If you downloaded a prebuilt binary package you can skip this page, which discusses how to build the Premake source code. Jump ahead to Quick Start to begin learning how to use and develop with Premake."><meta data-react-helmet="true" property="og:url" content="https://kyriets.github.io/premake-core/docs/4.x/Building-Premake"><link data-react-helmet="true" rel="shortcut icon" href="/premake-core/img/premake-logo.png"><link data-react-helmet="true" rel="canonical" href="https://kyriets.github.io/premake-core/docs/4.x/Building-Premake"><link rel="stylesheet" href="/premake-core/styles.db170e7b.css">
<link rel="preload" href="/premake-core/styles.b253818f.js" as="script">
<link rel="preload" href="/premake-core/runtime~main.b54a5d25.js" as="script">
<link rel="preload" href="/premake-core/main.3e058416.js" as="script">
<link rel="preload" href="/premake-core/1.ae973db5.js" as="script">
<link rel="preload" href="/premake-core/2.6149fdf1.js" as="script">
<link rel="preload" href="/premake-core/38.986a9104.js" as="script">
<link rel="preload" href="/premake-core/40.1a923585.js" as="script">
<link rel="preload" href="/premake-core/cae0f04b.3981ee32.js" as="script">
<link rel="preload" href="/premake-core/17896441.8a5a3cf8.js" as="script">
<link rel="preload" href="/premake-core/5fe6c6e7.4aef9daa.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/premake-core/"><img src="/premake-core/img/premake-logo.png" alt="Premake Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/premake-core/img/premake-logo.png" alt="Premake Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Premake</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/premake-core/docs/">Docs</a><a class="navbar__item navbar__link" href="/premake-core/download">Download</a><a href="https://github.com/premake/premake-core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/premake-core/docs/4.x/">4.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/premake-core/docs/Building-Premake">5.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/premake-core/docs/4.x/Building-Premake">4.x</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/premake-core/"><img src="/premake-core/img/premake-logo.png" alt="Premake Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/premake-core/img/premake-logo.png" alt="Premake Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Premake</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/premake-core/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/premake-core/download">Download</a></li><li class="menu__list-item"><a href="https://github.com/premake/premake-core" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/premake-core/docs/Building-Premake">5.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/premake-core/docs/4.x/Building-Premake">4.x</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/premake-core/docs/4.x/">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/premake-core/docs/4.x/What-Is-Premake">What Is Premake</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/premake-core/docs/4.x/Building-Premake">Building Premake</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/premake-core/docs/4.x/Premake-Quick-Start">Premake Quick Start</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/premake-core/docs/4.x/Extending-Premake">Extending Premake</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/premake-core/docs/4.x/Basic-Premake-Extension">Basic Premake Extension</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/premake-core/docs/4.x/Create-A-New-Action">Create A New Action</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/premake-core/docs/4.x/buildaction">buildaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/premake-core/docs/4.x/buildoptions">buildoptions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Premake <strong>4.x</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/premake-core/docs/Building-Premake">latest version</a></strong> (5.0).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: 4.x</span></div><header><h1 class="docTitle_Oumm">Building Premake</h1></header><div class="markdown"><p>If you downloaded a prebuilt binary package you can skip this page, which discusses how to build the Premake source code. Jump ahead to <a href="/premake-core/docs/4.x/Premake_Quick_Start">Quick Start</a> to begin learning how to use and develop with Premake.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="generating-the-project-files"></a>Generating the Project Files<a class="hash-link" href="#generating-the-project-files" title="Direct link to heading">#</a></h2><p>If you downloaded one of the <a href="http://sourceforge.net/projects/premake/files/" target="_blank" rel="noopener noreferrer">official source code release packages</a>, the project files have already been generated for you, and may be found in the <strong>build/</strong> directory. Skip ahead to the next section to learn about the important differences between the build configurations.</p><p>Premake&#x27;s <a href="https://github.com/premake/premake-4.x" target="_blank" rel="noopener noreferrer">Git repository</a> does not contain any project files. Instead, use an <a href="http://premake.github.io/premake-core/download.html" target="_blank" rel="noopener noreferrer">existing copy of Premake</a> to generate the files for your particular toolset and environment.</p><p>Once you have a working Premake installed, embed the scripts by opening a console or terminal to the source code directory and running the command</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">premake4 embed</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Now generate the project files with a command like:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">premake4 gmake    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># for GNU makefiles using GCC</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">premake4 vs2008   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># for a Visual Studio 2008 solution</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Use the --help option to see all of the available targets. You now have a solution/makefile/workspace that you can load and build.</p><p>Note that when working against the Git sources it is a good idea to refresh the embedded scripts after each update.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> pull -u</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">premake4 embed</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>See <strong>Debug vs. Release Modes</strong> below for an explanation (and maybe eventually I&#x27;ll think of a better way to do this).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="building-the-source-code"></a>Building the Source Code<a class="hash-link" href="#building-the-source-code" title="Direct link to heading">#</a></h2><p>Premake can be built in either &quot;release&quot; (the default) or &quot;debug&quot; modes. If you are using Makefiles (as opposed to an IDE), you can choose which configuration to build with the <strong>config</strong> argument:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain">               </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># build in release mode, both versions</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">debug  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># build in debug mode, when generated with Premake 4.x</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CONFIG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Debug  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># build in debug mode, when generated with Premake 3.x</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you do not supply a <strong>config</strong> argument, release mode will be used. IDEs like Visual Studio provide their own mechanism for switching build configurations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="debug-vs-release-modes"></a>Debug vs Release Modes<a class="hash-link" href="#debug-vs-release-modes" title="Direct link to heading">#</a></h2><p>A significant portion of Premake is written in Lua. For release builds (the default) this has no impact, just build as normal and go.</p><p>When built in Debug mode, Premake will read its Lua scripts from the disk at startup, enabling compile-less code/test iterations, and therefore faster development. But it needs a little help finding the scripts. You can use the <strong>/scripts</strong> command line argument, like so:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">premake4 /scripts</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">~/Code/premake4/src gmake</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Or set a <strong>PREMAKE_PATH</strong> environment variable:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">PREMAKE_PATH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">~/Code/premake4/src</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You need to specify the location of the Premake <strong>src/</strong> directory, the one containing <strong>_premake_main.lua</strong>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="embedding-the-scripts"></a>Embedding the Scripts<a class="hash-link" href="#embedding-the-scripts" title="Direct link to heading">#</a></h2><p>In release builds, Premake uses a copy of the scripts embedded into static strings: see <strong>src/host/scripts.c</strong>. If you modify any of the core Lua scripts (anything ending in <strong>.lua</strong>), you must also update these embedded strings before your changes will appear in the release mode build.</p><p>You can update these strings by using the <strong>embed</strong> action, which is part of Premake&#x27;s own build script.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">premake4 embed</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This command embeds all of the scripts listed in <strong>_manifest.lua</strong> into <strong>src/host/scripts.c</strong>. The next release build will include the updated scripts.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="confused"></a>Confused?<a class="hash-link" href="#confused" title="Direct link to heading">#</a></h2><p>The inclusion of the Lua scripts throws a wrench in things, and I certainly understand if you have questions. I&#x27;ll be glad to help you out. Leave a note <a href="https://groups.google.com/forum/#!forum/premake-development" target="_blank" rel="noopener noreferrer">in the forums</a>. Your questions will help me improve these instructions.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/premake/premake-core/edit/master/website/versioned_docs/version-4.x/Building-Premake.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/premake-core/docs/4.x/What-Is-Premake"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« What Is Premake</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/premake-core/docs/4.x/Premake-Quick-Start"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Premake Quick Start Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#generating-the-project-files" class="table-of-contents__link">Generating the Project Files</a></li><li><a href="#building-the-source-code" class="table-of-contents__link">Building the Source Code</a></li><li><a href="#debug-vs-release-modes" class="table-of-contents__link">Debug vs Release Modes</a></li><li><a href="#embedding-the-scripts" class="table-of-contents__link">Embedding the Scripts</a></li><li><a href="#confused" class="table-of-contents__link">Confused?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Documentation</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/premake-core/docs/">Premake 5.0</a></li><li class="footer__item"><a class="footer__link-item" href="/premake-core/docs/4.x/">Premake 4.x</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/premake-core/docs/Who-Uses-Premake">Who uses Premake</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/premake" target="_blank" rel="noopener noreferrer" class="footer__link-item">StackOverflow</a></li><li class="footer__item"><a href="https://twitter.com/premakeapp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/premake/premake-core/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Premake</div></div></div></footer></div>
<script src="/premake-core/styles.b253818f.js"></script>
<script src="/premake-core/runtime~main.b54a5d25.js"></script>
<script src="/premake-core/main.3e058416.js"></script>
<script src="/premake-core/1.ae973db5.js"></script>
<script src="/premake-core/2.6149fdf1.js"></script>
<script src="/premake-core/38.986a9104.js"></script>
<script src="/premake-core/40.1a923585.js"></script>
<script src="/premake-core/cae0f04b.3981ee32.js"></script>
<script src="/premake-core/17896441.8a5a3cf8.js"></script>
<script src="/premake-core/5fe6c6e7.4aef9daa.js"></script>
</body>
</html>