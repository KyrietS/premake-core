(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),p=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=p(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,b=u["".concat(i,".").concat(d)]||u[d]||m[d]||o;return n?a.a.createElement(b,c(c({ref:t},s),{},{components:n})):a.a.createElement(b,c({ref:t},s))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},94:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return p}));var r=n(3),a=n(7),o=(n(0),n(106)),i={title:"Create A New Action"},c={unversionedId:"Create-A-New-Action",id:"version-4.x/Create-A-New-Action",isDocsHomePage:!1,title:"Create A New Action",description:"An action is what gets triggered when you run Premake; the command premake4 vs2008 triggers the Visual Studio 2008 action, while premake4 clean triggers the clean action.",source:"@site/versioned_docs/version-4.x/Create-A-New-Action.md",slug:"/Create-A-New-Action",permalink:"/premake-core/docs/4.x/Create-A-New-Action",editUrl:"https://github.com/premake/premake-core/edit/master/website/versioned_docs/version-4.x/Create-A-New-Action.md",version:"4.x",sidebar:"version-4.x/mainSidebar",previous:{title:"Basic Premake Extension",permalink:"/premake-core/docs/4.x/Basic-Premake-Extension"},next:{title:"buildaction",permalink:"/premake-core/docs/4.x/buildaction"}},l=[{value:"Setting Up",id:"setting-up",children:[]},{value:"Start coding",id:"start-coding",children:[]}],s={toc:l};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"An ",Object(o.b)("em",{parentName:"p"},"action")," is what gets triggered when you run Premake; the command ",Object(o.b)("inlineCode",{parentName:"p"},"premake4 vs2008")," triggers the Visual Studio 2008 action, while ",Object(o.b)("inlineCode",{parentName:"p"},"premake4 clean")," triggers the clean action."),Object(o.b)("p",null,"I created an example action, available in the source code packages at ",Object(o.b)("inlineCode",{parentName:"p"},"src/actions/example"),", to help you get started. This example writes out simple ",Object(o.b)("em",{parentName:"p"},"solution")," and ",Object(o.b)("em",{parentName:"p"},"project")," files, showing how to get out the project information using the Premake APIs. The tutorial below will show you how to use these example files to get started on your own actions."),Object(o.b)("h2",{id:"setting-up"},"Setting Up"),Object(o.b)("p",null,"I keep all of the actions in ",Object(o.b)("inlineCode",{parentName:"p"},"src/actions"),", so create a new folder there with an appropriate name. Look at the other folders at that location, you'll get the idea."),Object(o.b)("p",null,"Copy the files from ",Object(o.b)("inlineCode",{parentName:"p"},"src/actions/example")," to your new folder and rename them appropriately. The leading underscore on ",Object(o.b)("inlineCode",{parentName:"p"},"_example.lua")," is optional; it is a convention I use to indicate which file contains the action description (more on that below). The underscore sorts this file to the top of the list making it easy to locate. Files without the leading underscore contain the actual implementation of the action."),Object(o.b)("p",null,"I'll continue to use the original file names (like ",Object(o.b)("inlineCode",{parentName:"p"},"_example.lua"),") through this explanation. Substitute in your new names."),Object(o.b)("p",null,"Add your new files (and any others you create later) to the script manifest at ",Object(o.b)("inlineCode",{parentName:"p"},"src/_manifest.lua"),"."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-lua"},'-- The master list of built-in scripts. Order is important! If you want to\n-- build a new script into Premake, add it to this list.\n\n    return\n    {\n        -- core files\n        "base/os.lua",\n        "base/path.lua",\n\n        "...and so on...",\n\n        -- Clean action\n        "actions/clean/_clean.lua",\n\n        -- Your new action goes here\n        "actions/example/_example.lua",\n        "actions/example/example_solution.lua",\n        "actions/example/example_project.lua",\n    }\n')),Object(o.b)("p",null,"Order matters a little here: ",Object(o.b)("inlineCode",{parentName:"p"},"_example.lua")," defines the namespace for the action and must appear first. See the comments in that file for more information."),Object(o.b)("h2",{id:"start-coding"},"Start coding"),Object(o.b)("p",null,"I've loaded up the example files, particularly the action description, to help you make sense of them. Rather than repeating all of that here, I'll just let you go browse through the files and start plugging in the code for your own actions."),Object(o.b)("p",null,"If you get stuck, if something isn't clear, or you want to see a demonstration of something that isn't covered by the example ",Object(o.b)("a",{parentName:"p",href:"https://groups.google.com/forum/#!forum/premake-development"},"drop a note in the forums")," and I'll try to help you out."))}p.isMDXComponent=!0}}]);